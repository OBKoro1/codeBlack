<!--
 * Author       : OBKoro1
 * Date         : 2020-04-15 17:21:59
 * LastEditors  : OBKoro1
 * LastEditTime : 2020-06-30 13:39:51
 * FilePath     : \codeBlack\算法题\5最长回文子串.html
 * Description  : 5. 最长回文子串1
 * https://github.com/OBKoro1
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5最长回文子串</title>
  </head>

  <body>
    <script>
      let str = "babad";
      let str2 =
        "civilwartestingwhetherthatnaptionoranynartionsoconceivedandsodedicatedcanlongendureWeareqmetonagreatbattlefiemldoftzhatwarWehavecometodedicpateaportionofthatfieldasafinalrestingplaceforthosewhoheregavetheirlivesthatthatnationmightliveItisaltogetherfangandproperthatweshoulddothisButinalargersensewecannotdedicatewecannotconsecratewecannothallowthisgroundThebravelmenlivinganddeadwhostruggledherehaveconsecrateditfaraboveourpoorponwertoaddordetractTgheworldadswfilllittlenotlenorlongrememberwhatwesayherebutitcanneverforgetwhattheydidhereItisforusthelivingrathertobededicatedheretotheulnfinishedworkwhichtheywhofoughtherehavethusfarsonoblyadvancedItisratherforustobeherededicatedtothegreattdafskremainingbeforeusthatfromthesehonoreddeadwetakeincreaseddevotiontothatcauseforwhichtheygavethelastpfullmeasureofdevotionthatweherehighlyresolvethatthesedeadshallnothavediedinvainthatthisnationunsderGodshallhaveanewbirthoffreedomandthatgovernmentofthepeoplebythepeopleforthepeopleshallnotperishfromtheearth";
      // 双指针中心扩展法
      /**
       * @param {string} s
       * @return {string}
       */
      var longestPalindrome = function (s) {
        let result = s[0] || "";
        for (let i = 0; i < s.length; i++) {
          for (let j = 1; j <= 2; j++) {
            //偶数奇数回文串
            let left = i,
              right = i + j;
            while (left >= 0 && right < s.length && s[left] === s[right]) {
              left--, right++; //向外扩展直到两端不相同
            }
            let length = right - left - 1; //(right - 1) - (left + 1) + 1
            if (length > result.length) {
              result = s.substr(left + 1, length);
            }
          }
        }
        return result;
      };
      
      /**
       * @param {string} s
       * @return {string}
       */
      var longestPalindrome = function (s) {
        let n = s.length;
        let res = "";
        let dp = Array.from(new Array(n), () => new Array(n).fill(0));
        for (let i = n - 1; i >= 0; i--) {
          for (let j = i; j < n; j++) {
            dp[i][j] = s[i] == s[j] && (j - i < 2 || dp[i + 1][j - 1]);
            if (dp[i][j] && j - i + 1 > res.length) {
              res = s.substring(i, j + 1);
            }
          }
        }
        return res;
      };

      console.log("输出", longestPalindrome(str));
      console.log("输出", longestPalindrome(str2));
    </script>
  </body>
</html>
