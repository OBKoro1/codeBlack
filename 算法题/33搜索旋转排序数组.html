<!--
 * Author       : OBKoro1
 * Date         : 2020-04-15 17:21:59
 * LastEditors  : OBKoro1
 * LastEditTime : 2020-06-30 14:57:27
 * FilePath     : \codeBlack\算法题\33搜索旋转排序数组.html
 * Description  : 33. 搜索旋转排序数组
 * https://github.com/OBKoro1
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>33. 搜索旋转排序数组</title>
  </head>
  <body>
    <script>
      let oldArr = [4, 5, 6, 7, 0, 1, 2]
      /**
       * @description
       * TODO: 利用二分查找方式
       * 1.利用将数组从中间分开
       * 此时肯定存在前半部分或是后半部分是有序的（重要）
       * 2.对有序部分执行二分查找
       * 3.如果目标值不可能存在于有序部分
       * 4.则将目标查找数组选择在无序部分
       * 5.继续进行1进行判断
       * @param {number[]} nums
       * @param {number} target
       * @return {number}
       */
      var search = function (nums, target) {
        if (!nums || nums.length === 0) return -1
        let start = 0
        let end = nums.length - 1
        let mid
        while (start <= end) {
          mid = Math.ceil((start + end) / 2)
          // 首尾中全部验证
          if (nums[mid] === target) return mid
          if (nums[start] === target) return start
          if (nums[end] === target) return end
          // 说明前半部分有序
          if (nums[start] < nums[mid]) {
            // 说明目标值存在于有序部分，将末尾设置为mid
            // 判断目标值是否在前半部分
            // 更新索引 继续执行二分查找
            if (nums[start] < target && target < nums[mid]) {
              end = mid - 1
            } else {
              // 说明目标值存在于后半段
              start = mid + 1
            }
          } else {
            // 说明后半部分有序
            // 判断目标值是否在后半部分
            // 更新索引 继续执行二分查找
            if (nums[mid] < target && target < nums[end]) {
              start = mid + 1
            } else {
              end = mid - 1
            }
          }
        }
        return -1
      }
      console.log('输出', search([1], 0))
    </script>
  </body>
</html>
